import{r as a,b as g,l as v,n as y,j as e,P as h,O as b,S as j}from"./index-tOuc_NNz.js";import{H as L,F as w}from"./Footer-RZHW57Es.js";import"./Avatar-yENgVWRf.js";import"./modal-h8KLfhas.js";const S=x=>{const[r,p]=a.useState(!1),{coverImageUrl:c,titleOnCover:u}=g(v),s=a.useRef(null),n=a.useRef(null),o=a.useRef(null),d=y();function l(){if(window.scrollY<0)return;let t=parseFloat((window.scrollY/window.innerHeight*100).toFixed(2));t>100&&(t=100);const m=parseFloat((t/5).toFixed(2)),f=t>30?30:t;s.current&&s.current.style.filter!==`blur(${m}px)`&&(s.current.style.filter=`blur(${m}px)`,o.current&&o.current.naturalWidth>o.current.naturalHeight?s.current.style.backgroundSize=`auto ${100+f}%`:s.current.style.backgroundSize=`${100+f}% auto`)}function i(){window.scrollY/window.innerHeight*100<30?n.current.classList.add("animate-bounce-sm"):n.current.classList.remove("animate-bounce-sm")}return a.useEffect(()=>{var t;return d.pathname.startsWith("/blog/post/edit")?(t=n.current)==null||t.classList.remove("animate-bounce-sm"):(i(),document.addEventListener("scroll",i)),()=>{document.removeEventListener("scroll",l),document.removeEventListener("scroll",i)}},[d.pathname]),e.jsxs(e.Fragment,{children:[e.jsx("img",{ref:o,src:c,alt:"Cover Image",style:{display:"none"},onLoad:()=>{p(!0),l(),document.addEventListener("scroll",l)}}),e.jsx(h,{className:`transition-opacity duration-1000 ${r?"opacity-0":"opacity-100"}`,children:"Loading..."}),e.jsxs("main",{className:`font-['Noto_Sans_KR'] dark:text-default-7 text-default-1-dark ${x.className}`,children:[e.jsx(L,{}),e.jsx("div",{ref:s,className:`absolute w-full h-[90vh] transition-opacity duration-1000 ${r?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${c})`,backgroundPosition:"top center"}}),e.jsx("div",{className:`absolute w-full h-[70vh] flex items-center transition-opacity duration-1000 ${r?"opacity-100":"opacity-0"}`,children:e.jsx("span",{className:`w-full 
                        text-slate-100 dark:text-default-6 text-xl md:text-3xl text-pretty text-center font-[500]
                        bg-gray-600/55 dark:bg-gray-800/65 ${u&&"py-3 px-5"}`,children:u})}),e.jsx("div",{className:"h-[60vh]"}),e.jsxs("div",{className:"bg-default-2 dark:bg-[#101010]",children:[e.jsx("section",{ref:n,style:{visibility:r?"visible":"hidden"},children:e.jsx(b,{})}),e.jsx(w,{})]})]}),e.jsx(j,{})]})};export{S as default};
