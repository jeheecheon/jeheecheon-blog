import{h as b,b as g,k as H,l as Y,m as G,r as n,n as U,t as Z,o as J,p as X,q,v as K,j as e,w as Q,x as V,y as C,z as _,A as ee,B as te,C as M,D as O,E as A,L as $,F as z,G as se,N as D,I as N,J as E,O as ne}from"./index-5yGqY9Ov.js";import{A as ae}from"./Avatar-YsULV59-.js";const re=({className:t})=>{const s=b(),d=g(H),o=g(Y),i=g(G),r=n.useRef(null),c=n.useCallback(l=>{l&&l.id!=="music-toggle-switch"&&l.id!=="music-toggle-switch-button"&&l.id!=="music-play-button"&&l.id!=="music-pause-button"&&r.current.play()},[]),u=n.useCallback(l=>{const a=l.target;c(a)},[]),f=n.useCallback(l=>{const a=l.target;c(a)},[]),v=n.useCallback(l=>{const a=l.target;c(a)},[]),h=n.useCallback(l=>{const a=l.target;s(U(a.currentTime))},[]);return n.useEffect(()=>{var l;return o.length===0&&fetch("https://jeheecheon.azurewebsites.net/api/blog/music",{method:"GET"}).then(a=>{if(a.ok)return a.json();Z(a)}).then(a=>{a||J("Music list is null or undefined"),a.length>0&&(a.sort(()=>Math.random()-.5),s(X(a)),r.current.setAttribute("src",a[i]),r.current.load())}).catch(q),(l=r.current)==null||l.addEventListener("timeupdate",h),()=>{var a;(a=r.current)==null||a.removeEventListener("timeupdate",h),s(K())}},[]),n.useEffect(()=>(d?(window.addEventListener("click",u),window.addEventListener("keydown",v),window.addEventListener("touchstart",f)):(window.removeEventListener("click",u),window.removeEventListener("keydown",v),window.removeEventListener("touchstart",f)),()=>{window.removeEventListener("click",u),window.removeEventListener("keydown",v),window.removeEventListener("touchstart",f)}),[d]),e.jsx("audio",{id:"music-player",ref:r,controls:!0,onLoadedData:l=>{s(Q(l.currentTarget.duration));const a=o[i].indexOf("music/")+6,x=o[i].indexOf(".mp3");if(a!==-1&&x!==-1){const k=o[i].substring(a,x);s(V(k))}},onPause:()=>s(C(!1)),onPlay:()=>s(C(!0)),onEnded:()=>{const l=(i+1)%o.length;s(_(l)),r.current.setAttribute("src",o[l]),r.current.load(),r.current.play()},className:`${t}`,children:e.jsx("source",{type:"audio/mp3"})})},oe=({className:t})=>e.jsxs("button",{className:`gsi-material-button ${t}`,onClick:()=>{window.location.replace(ee())},children:[e.jsx("div",{className:"gsi-material-button-state"}),e.jsxs("div",{className:"gsi-material-button-content-wrapper",children:[e.jsx("div",{className:"gsi-material-button-icon",children:e.jsxs("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",xmlnsXlink:"http://www.w3.org/1999/xlink",className:"block",children:[e.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),e.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),e.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),e.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),e.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})}),e.jsx("span",{className:"gsi-material-button-contents",children:"Continue with Google"})]})]}),le=t=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...t},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"{2} ",d:"M6 18L18 6M6 6l12 12"})),W=({onClose:t,children:s,isOpen:d})=>{const o=n.useRef(null);function i(){t(),setTimeout(()=>{var r;(r=o.current)==null||r.classList.add("absolute","invisible")},1e3)}return n.useEffect(()=>{function r(u){u.target.classList.contains("modal-overlay")&&i()}function c(){i()}return document.addEventListener("mousedown",r),document.addEventListener("scroll",c),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("scroll",c)}},[]),n.useEffect(()=>{var r;d&&((r=o.current)==null||r.classList.remove("absolute","invisible"))},[d]),e.jsx("div",{ref:o,className:`modal-overlay fixed top-0 left-0 w-full h-[100dvh] bg-gray-800/35 z-[30]
            flex justify-center items-center transition-all duration-1000 
            ${d?"opacity-100":"opacity-0 pointer-events-none"}`,children:e.jsxs("div",{className:`flex flex-col border-[0.125rem] rounded-[1.375rem] p-4 pointer-events-auto\r
                border-[rgb(230,230,240)] dark:border-[rgb(29,29,32)] bg-[rgb(250,250,250)] dark:bg-[rgb(24,24,27)]`,children:[e.jsx("button",{onClick:i,className:"absolute self-end h-7 w-7 text-default-10-dark",children:e.jsx(le,{})}),s]})})},ie=()=>{const t=b(),s=g(te);return e.jsx(W,{onClose:()=>t(M(!1)),isOpen:s,children:e.jsxs("div",{className:"flex flex-col px-6 pt-3",children:[e.jsxs("div",{className:"font-semibold text-default-14-dark dark:text-default-12 flex flex-col items-start",children:[e.jsx("p",{className:"text-2xl",children:"Login! 🐶"}),e.jsx("p",{children:"leave your comment!"})]}),e.jsx("p",{className:"mt-5 text-gray-500 text-xs",children:"I do not collect user info for personal use..."}),e.jsx(oe,{className:"mt-2"})]})})},S="/assets/me-4o5NXEZx.png",ce=[{name:"Home",to:"/"},{name:"Portfolio",to:"https://jeheecheon.com"}],de=[{name:"Recent Posts",to:"/recent-posts/pages/1"},{name:"Algorithm",to:"/categories/Algorithm/pages/1"},{name:"Web Development",to:"/categories/Web-Development/pages/1"},{name:"Uncategorized",to:"/categories/Uncategorized/pages/1"}],ue=({setIsOpen:t,isOpen:s})=>{const d=b(),o=g(O);function i(r,c){return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-orange-400 text-lg",children:c}),e.jsx("nav",{className:"flex flex-col text-default-18-dark text-sm dark:text-default-10 mt-1",children:r.map((u,f)=>{var h;return e.jsx("span",{className:"w-full py-2 border-b-[0.1rem] dark:border-y-default-7-dark border-y-default-5",children:(h=u.to)!=null&&h.includes("Portfolio")?e.jsx("a",{href:u.to,children:u.name}):e.jsx($,{to:u.to,onClick:()=>t(!1),children:u.name})},f)})})]})}return e.jsx(W,{onClose:()=>t(!1),isOpen:s,children:e.jsxs("div",{className:"h-full flex flex-col justify-between",children:[e.jsxs("div",{children:[i(ce,"Navigation"),e.jsx("button",{className:`text-default-18-dark text-sm dark:text-default-10 w-full text-left py-2 \r
                        border-b-[0.1rem] border-y-default-5 dark:border-y-default-7-dark`,onClick:()=>{t(!1),o?A():(t(!1),d(M(!0)))},children:o?"Sign-out":"Sign-in"})]}),e.jsx("div",{className:"mt-5",children:i(de,"Category")})]})})},me=t=>n.createElement("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...t},n.createElement("path",{className:"mx-auto",d:"M17.25 16.22a6.937 6.937 0 0 1-9.47-9.47 7.451 7.451 0 1 0 9.47 9.47ZM12.75 7C17 7 17 2.75 17 2.75S17 7 21.25 7C17 7 17 11.25 17 11.25S17 7 12.75 7Z",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),fe=t=>n.createElement("svg",{viewBox:"0 0 24 24",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...t},n.createElement("path",{d:"M8 12.25A4.25 4.25 0 0 1 12.25 8v0a4.25 4.25 0 0 1 4.25 4.25v0a4.25 4.25 0 0 1-4.25 4.25v0A4.25 4.25 0 0 1 8 12.25v0Z"}),n.createElement("path",{d:"M12.25 3v1.5M21.5 12.25H20M18.791 18.791l-1.06-1.06M18.791 5.709l-1.06 1.06M12.25 20v1.5M4.5 12.25H3M6.77 6.77 5.709 5.709M6.77 17.73l-1.061 1.061",fill:"none"}));function he({className:t}){const s=b(),d=g(z),o=()=>{s(se(!d))};return[{node:e.jsx(me,{className:"w-[1.25rem]"}),className:"hidden dark:block"},{node:e.jsx(fe,{className:"w-[1.25rem]"}),className:"dark:hidden"}].map((r,c)=>e.jsx("button",{onClick:o,className:`animate-header-show-down rounded-full h-fit p-2 shadow-xl dark:shadow-lg dark:shadow-black/60 dark:bg-default-5-dark bg-default-2
            border-[0.0625rem] border-slate-300 dark:border-default-18-dark ring-[0.025rem] ring-orange-300 pointer-events-auto
            fill-orange-300  stroke-orange-300 ${t} ${r.className}`,children:r.node},c))}const T=t=>n.createElement("svg",{viewBox:"0 0 8 6","aria-hidden":"true",...t},n.createElement("path",{d:"M1.75 1.75 4 4.25l2.25-2.5",fill:"none",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),xe=[{name:"😎 Portfolio",to:"https://jeheecheon.com",class:"border-b-0"},{name:"✏️ Recent Posts",to:"/recent-posts/pages/1",class:"mt-4"},{name:"🔢 Algorithm",to:"/categories/Algorithm/pages/1"},{name:"🕸️ Web Development",to:"/categories/Web-Development/pages/1"},{name:"❓ Uncategorized",to:"/categories/Uncategorized/pages/1"}],P=t=>{const{isActive:s}=t||{isActive:!1};return s?"text-orange-400":"dark:text-default-7 text-default-18-dark font-[500]"};function R(t){return t.map((s,d)=>{var o;return e.jsxs("div",{className:`flex flex-col text-nowrap border-b-[0.0625rem] last:border-b-0 pb-2 px-1 text-sm 
                border-b-gray-400/60 dark:border-b-default-18 ${s.class}`,children:[s.to&&((o=s.to)!=null&&o.includes("Portfolio"))?e.jsxs("a",{href:s.to,className:P({isActive:!1,isPending:!1,isTransitioning:!1}),children:[s.name,"asd"]}):e.jsx(D,{to:s.to,className:P,children:s.name}),s.subLinks&&e.jsx("div",{className:"ml-4",children:R(s.subLinks)})]},d)})}function ge({isCategoryOpen:t}){return e.jsx("div",{className:`fixed flex flex-col mt-8 ml-[4.8rem]
            drop-shadow-xl border-[0.0625rem] border-slate-300 dark:border-default-18-dark ring-[0.025rem] ring-orange-300 bg-default-2 dark:bg-default-5-dark
            rounded-xl p-4 dark:text-orange-50 text-default-10-dark text-base gap-2 transition-opacity duration-500
            ${t?"opacity-100":"opacity-0 pointer-events-none"}`,children:R(xe)})}const I=t=>{const{isActive:s}=t;return s?"text-orange-400":"dark:text-default-7 text-default-16-dark"};function pe({isCategoryOpen:t,setIsCategoryOpen:s,className:d}){const o=b(),i=g(O),r=N(),c=n.useMemo(()=>r.pathname.startsWith("/categories/")||r.pathname.startsWith("/recent-posts/"),[r.pathname]),u=n.useMemo(()=>c?"text-orange-400":"text-default-16-dark dark:text-default-7",[c]);return e.jsxs("nav",{className:`dark:bg-default-5-dark bg-default-2 pointer-events-auto font-[600]
                        shadow-xl dark:shadow-lg dark:shadow-black/40 border-[0.0625rem] border-slate-300 dark:border-default-18-dark
                        ring-[0.025rem] ring-orange-300
                        flex flex-row items-center gap-5 px-5
                        rounded-full h-fit py-2 text-[1rem] ${d}`,children:[e.jsx(D,{to:"/",className:I,end:!0,children:"Home"}),e.jsx("a",{href:"https://jeheecheon.com",className:`cursor-pointer ${I({isActive:!1,isPending:!1,isTransitioning:!1})}`,onClick:()=>console.log("https://jeheecheon.com"),children:"Portfolio"}),e.jsxs("div",{className:`flex flex-col items-center h-fit flex-nowrap shrink-0  ${u}`,children:[e.jsxs("button",{id:"categories-button",className:"flex items-center flex-nowrap shrink-0",onClick:()=>s(!t),children:["Categories  ",e.jsx(T,{className:`${c?"stroke-orange-400":"stroke-default-10-dark dark:stroke-default-7"} relative top-[2.5px] w-[0.8125rem] ${t&&"rotate-180"} transition-transform`})]}),e.jsx(ge,{isCategoryOpen:t})]}),e.jsx("button",{className:`text-nowrap
                ${i?"text-orange-400":"text-default-16-dark dark:text-default-7"}`,onClick:()=>{i?A():o(M(!0))},children:i?"Sign-out":"Sign-in"})]})}const ve=["/post/edit"],ke=({className:t})=>{const s=n.useRef(0),[d,o]=n.useState(!1),[i,r]=n.useState(!1),c=N(),u=n.useMemo(()=>!ve.includes(c.pathname),[c.pathname]),[f,v]=n.useState(!1),[h,l]=n.useState(!1),a=n.useRef(null),x=n.useRef(!1),k=n.useRef(0);n.useEffect(()=>{function j(){if(!a.current)return;const m=a.current.children,p=m[0],L=m[1],B=m[2],F=m[3];l(p.offsetWidth+L.offsetWidth+B.offsetWidth+F.offsetWidth<a.current.offsetWidth)}j();function w(m){const p=m.target;p&&p.id!=="categories-button"&&o(!1)}return document.addEventListener("scroll",y),document.addEventListener("click",w),window.addEventListener("resize",j),()=>{document.removeEventListener("scroll",y),document.removeEventListener("click",w),window.removeEventListener("resize",j)}}),n.useEffect(()=>{o(!1),r(!1)},[c.pathname]);const y=()=>{var w,m,p,L;o(!1),s.current<window.scrollY?(x.current||(k.current=window.scrollY),x.current=!0):(x.current&&(k.current=window.scrollY),x.current=!1),Math.abs(window.scrollY-k.current)>100&&(x.current?((w=a.current)==null||w.classList.add("animate-header-hide-up"),(m=a.current)==null||m.classList.remove("animate-header-show-down")):((p=a.current)==null||p.classList.remove("animate-header-hide-up"),(L=a.current)==null||L.classList.add("animate-header-show-down"))),s.current=window.scrollY};return e.jsx(e.Fragment,{children:u&&e.jsxs(e.Fragment,{children:[e.jsx(ue,{isOpen:i,setIsOpen:r}),e.jsx("img",{src:S,alt:"blog author image",className:"hidden",onLoad:()=>v(!0)}),f&&e.jsx("div",{className:`fixed top-0 left-0 w-[100%] z-30 pointer-events-none\r
                            px-4 md:px-14 lg:px-16`,children:e.jsxs("header",{ref:a,className:`flex items-center justify-between animate-header-show-down
                                mx-auto ${t}`,children:[e.jsx($,{to:"/",className:"shrink-0 pointer-events-auto rounded-full shadow-lg dark:shadow-black/50 shadow-gray-400/80",children:e.jsx(ae,{avatar:S,size:50,className:"ring-[0.156rem] ring-orange-200 border-[0.0625rem] border-transparent"})}),e.jsx(pe,{isCategoryOpen:d,setIsCategoryOpen:o,className:`shrink-0 ${h?"animate-header-show-down":"absolute invisible"}`}),e.jsxs("button",{className:`${h?"absolute invisible":"animate-header-show-down"} pointer-events-auto dark:shadow-black/35
                                    group ml-auto mr-5 flex items-center flex-nowrap shrink-0 dark:bg-default-5-dark bg-default-2
                                    shadow-lg border-[0.0625rem] border-slate-300 dark:border-default-18-dark ring-[0.025rem] ring-orange-300
                                    rounded-full h-fit py-2 text-sm px-4 font-medium text-default-14-dark dark:text-default-10`,onClick:()=>r(!i),children:["Menu  ",e.jsx(T,{className:`stroke-default-10-dark dark:stroke-default-13-dark relative top-[0.125rem] w-[0.813rem] ${i&&"rotate-180"} transition-transform`})]}),e.jsx(he,{})]})})]})})};function je(){const t=g(z),s=N();return n.useEffect(()=>{t===!0?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},[t]),n.useEffect(()=>(E(t,s.pathname),()=>{E(t,s.pathname)}),[s.pathname,t]),e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"mt-[0.813rem] max-w-[66rem] lg:mx-auto"}),e.jsx(re,{className:"absolute invisible"}),e.jsx(ie,{}),e.jsx(ne,{})]})}export{je as default};
